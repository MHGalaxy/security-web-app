
<h1>Safe Login with Entity Framework Core ORM</h1>

<form id="loginForm" class="mt-4 p-4 border rounded shadow-sm bg-light">
    <div class="form-group mb-2">
        <label for="username" class="mb-1">Username:</label>
        <input type="text" id="username" name="username" class="form-control" placeholder="Enter your username" required>
    </div>

    <div class="form-group mb-2">
        <label for="password" class="mb-1">Password:</label>
        <input type="password" id="password" name="password" class="form-control" placeholder="Enter your password" required>
    </div>

    <button type="submit" class="btn btn-primary btn-block">Login</button>
</form>

<div id="loginResult" class="mt-3"></div>

<br />
<a href="/" class="btn btn-outline-warning">Back to Home Page</a>








@section Scripts {

    <script>

        $(document).ready(function () {
            $('#loginForm').on('submit', function (e) {
                e.preventDefault(); // Prevent the form from submitting the traditional way

                // Get the form data
                var formData = {
                    username: $('#username').val(),
                    password: $('#password').val()
                };

                // Send the data using AJAX
                $.ajax({
                    type: 'POST',
                    url: '/Data/EfSafeLogin',
                    data: formData,
                    success: function (response) {
                        $('#loginResult').text(response);
                    },
                    error: function (xhr, status, error) {
                        $('#loginResult').text('Invalid username or password. ' + error);
                    }
                });
            });
        });

    </script>

}